"use strict";function showBackToTopOnScroll(){const e=document.getElementById("back-to-top");window.scrollY<"300"?e.style.display="none":(e.style.display="block",e.style.animation="fadeIn 1s")}function initBackToTopButton(){const e=document,t=document.getElementById("back-to-top");t.style.display="none",e.addEventListener("scroll",()=>showBackToTopOnScroll())}function setCodeBlocksClasses(){const s=document.getElementsByTagName("pre");for(let t=0;t<s.length;t++){var n=s[t].classList.length;s[t].tabIndex="0";for(let e=0;e<n;e++)if(s[t].classList[e].startsWith("language"))s[t].classList.contains("command-line")||s[t].classList.contains("language-diff")?s[t].classList.contains("command-line")&&s[t].classList.contains("filter-output")&&s[t].setAttribute("data-filter-output","#output#"):s[t].classList.add("line-numbers");else if(s[t].classList.contains("instructions")){const a=s[t].firstChild;var r,i=a.innerHTML.split(/[\n\r]/g),o=i.length;for(let e=0;e<o;e++)/^\/\//.test(i[e])&&(r='<span class="token comment">'+i[e]+"</span>",a.innerHTML=a.innerHTML.replace(i[e],r))}}}function translateCopyButton(){const e=document.getElementById("page__content");e&&(e.setAttribute("data-prismjs-copy","Copier"),e.setAttribute("data-prismjs-copy-success","Copi√© !"),e.setAttribute("data-prismjs-copy-error","Utilisez Ctrl+c pour copier"))}function getLightThemeIcon(){const e=document.createElement("span");return e.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><path d="M70 50a20 20 0 01-20 20 20 20 0 01-20-20 20 20 0 0120-20 20 20 0 0120 20zm28.557 1.16c2.74.07 1.192 12.435-1.48 11.819l-16.03-3.7c-2.67-.616-1.676-8.604 1.064-8.535zM79.931 89.565c1.695 2.156-9.31 8.877-10.44 6.38l-6.776-14.991c-1.13-2.499 5.358-6.48 7.051-4.324zM38.26 99.068c-.603 2.675-12.753-1.73-11.521-4.18l7.39-14.698c1.231-2.45 8.353.156 7.75 2.83zM4.81 72.51C2.362 73.741-1.81 61.508.864 60.905l16.049-3.619c2.674-.603 5.046 6.602 2.597 7.834zm-.02-43.073C2.34 28.205 9.394 17.36 11.47 19.15l12.465 10.737c2.077 1.79-1.997 8.172-4.448 6.94zm33.425-26.59C37.612.171 50.497-1.118 50.43 1.623l-.408 16.446c-.068 2.74-7.585 3.5-8.189.825zm41.655 9.446c1.686-2.163 10.761 7.085 8.598 8.77L75.49 31.172c-2.164 1.685-7.415-3.739-5.73-5.902zm18.686 38.419c2.74-.068 1.201 12.848-1.47 12.231l-16.029-3.7c-2.671-.616-1.687-8.056 1.053-8.124z"/></svg>',e.classList.add("tools__icon","tools__icon--light"),e.setAttribute("aria-hidden","true"),e}function getDarkThemeIcon(){const e=document.createElement("span");return e.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><path d="M51.283 0A45.12 45.12 0 0173.95 39.135a45.12 45.12 0 01-45.12 45.12 45.12 45.12 0 01-25.09-7.618A50.133 50.133 0 0046.126 100 50.133 50.133 0 0096.26 49.867 50.133 50.133 0 0051.283 0z"/></svg>',e.classList.add("tools__icon","tools__icon--dark"),e.setAttribute("aria-hidden","true"),e}function getDarkThemeLabel(){const e=document.createElement("span");var t=color_scheme_vars.lightThemeText;return e.innerHTML=t,e.classList.add("tools__label--light","screen-reader-text"),e}function getLightThemeLabel(){const e=document.createElement("span");var t=color_scheme_vars.darkThemeText;return e.innerHTML=t,e.classList.add("tools__label--dark","screen-reader-text"),e}function prefersDarkScheme(){if(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches)return!0}function updateThemePreference(e){localStorage.setItem("apcom-color-scheme",e)}function defineThemePreference(){let e="";e=getThemePreference()?getThemePreference():prefersDarkScheme()?"dark":"light",updateThemePreference(e)}function switchColorScheme(){const e=document.getElementById("body");"light"===e.getAttribute("data-color-scheme")?updateThemePreference("dark"):"dark"===e.getAttribute("data-color-scheme")&&updateThemePreference("light"),updateColorScheme()}function createSwitchThemeButton(){var e=getThemePreference();const t=document.getElementById("tools");var s=t.firstChild;const n=document.createElement("div"),r=document.createElement("button");let i="",o="";n.classList.add("tools__item","themes"),n.title=color_scheme_vars.title,i="dark"===e?(o=getLightThemeLabel(),getLightThemeIcon()):(o=getDarkThemeLabel(),getDarkThemeIcon()),r.id="switch-theme",r.classList.add("tools__label","tools__btn"),r.type="button",r.appendChild(o),r.appendChild(i),n.appendChild(r),t.insertBefore(n,s)}function updateSwitchThemeButton(){var e=getThemePreference();const t=document.getElementById("switch-theme");let s="",n="";t.innerHTML="",s="dark"===e?(n=getLightThemeLabel(),getLightThemeIcon()):(n=getDarkThemeLabel(),getDarkThemeIcon()),t.appendChild(n),t.appendChild(s)}function initializeColorScheme(){defineThemePreference(),createSwitchThemeButton(),updateColorScheme()}function syncColorSchemeBetweenTabs(){const e=document.getElementById("body");e.addEventListener("storage",e=>{"apcom-color-scheme"===e.key&&(updateColorScheme(),updateSwitchThemeButton())})}initBackToTopButton(),document.body.addEventListener("DOMContentLoaded",setCodeBlocksClasses()),translateCopyButton(),initializeColorScheme(),syncColorSchemeBetweenTabs(),document.getElementById("switch-theme").addEventListener("click",()=>{switchColorScheme(),updateSwitchThemeButton()});const isMoreThanTwoYears=(e,t)=>{return 730<(t<e?e-t:t-e)/864e5},insertBeforeContent=e=>{const t=document.getElementById("page__content");var s=t.firstChild;t.insertBefore(e,s)},isArticle=()=>{const e=document.getElementById("body");return e.classList.contains("single-page")&&!e.classList.contains("cpt")&&!e.classList.contains("no-comments")},getWarning=()=>date_warning.beAware+" "+date_warning.oldContent+" "+date_warning.noMoreValid+" "+date_warning.contentEvolved,getPublicationDate=()=>{var e=document.getElementById("meta__publication-date");return e?new Date(e.dateTime).getTime():null},getUpdateDate=()=>{var e=document.getElementById("meta__update-date");return e?new Date(e.dateTime).getTime():null},displayWarningIfNeeded=()=>{if(isArticle()){var e=getPublicationDate(),t=getUpdateDate(),s=(new Date).getTime();if(e&&isMoreThanTwoYears(e,s)&&(!t||isMoreThanTwoYears(e,t))){const n=document.createElement("div");n.classList.add("content-warning"),n.innerHTML=getWarning(),insertBeforeContent(n)}}};displayWarningIfNeeded();class readingProgress{constructor(e){this.container=e?document.getElementById(e):"",this.progressBarWrapper=document.createElement("div"),this.progressBar=document.createElement("div")}setProgressBarClasses(e){e?e.forEach(e=>{this.progressBar.classList.add(e)}):this.progressBar.classList.add("reading-progress__bar")}setProgressBarWrapperClasses(e){e?e.forEach(e=>{this.progressBarWrapper.classList.add(e)}):this.progressBarWrapper.classList.add("reading-progress")}insertReadingProgressBar(e){this.progressBar.style.height="100%",this.progressBar.style.maxWidth="100%",this.progressBarWrapper.appendChild(this.progressBar),this.progressBarWrapper.style.position="sticky","bottom"===e?(this.container.appendChild(this.progressBarWrapper),this.progressBarWrapper.style.bottom="0"):this.container&&(e=this.container.firstChild,this.container.insertBefore(this.progressBarWrapper,e),this.progressBarWrapper.style.top="0")}showProgressBar(e){this.progressBarWrapper.style.display=!0===e?"block":"none"}getScrollPercent(e){let t="";if(t="body"===e?document.body:"string"==typeof e&&"container"!==e?document.getElementById(e):this.container,t){var s=window.innerHeight,n=window.scrollY,e=t.offsetHeight;return(n-t.offsetTop)/(e-s)*100}}recordProgression(e){e=this.getScrollPercent(e);1<e&&e<=100?this.showProgressBar(!0):this.showProgressBar(!1),this.progressBar.style.width=e+"%"}init(e=["reading-progress"],t=["reading-progress__bar"],s="top",n="container"){""!==this.container&&(this.setProgressBarWrapperClasses(e),this.setProgressBarClasses(t),this.insertReadingProgressBar(s),this.recordProgression(n))}}function initReadingProgress(){const e=document,t=document.body.classList;if(t.contains("single-page")&&!t.contains("attachment")){const s=new readingProgress("page__content");e.addEventListener("scroll",()=>{s.init()})}}function getViewportWidth(){return window.innerWidth}function hideSearch(e){const t=document.getElementById("tools__search"),s=document.getElementById("search__checkbox");t.contains(e)||null===e||(s.checked=!1)}function createVisibilityObserver(e,t){const s=new IntersectionObserver(e=>{e.forEach(e=>{t(0<e.intersectionRatio)})},{});s.observe(e)}function observeDisplayChange(e){createVisibilityObserver(e,e=>{var t=getViewportWidth();e&&t<1280?document.body.style.overflow="hidden":document.body.style.removeProperty("overflow")})}function initSearch(){const e=document.getElementById("tools__search"),t=e.getElementsByClassName("search-form")[0];window.addEventListener("load",()=>{observeDisplayChange(t)}),window.addEventListener("resize",()=>{observeDisplayChange(t)}),document.body.addEventListener("click",e=>{hideSearch(e.target)}),document.body.addEventListener("focusout",e=>{hideSearch(e.relatedTarget)})}initReadingProgress(),initSearch();const slugify=e=>e.toString().normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().trim().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"-").replace(/\-\-+/g,"-").replace(/^-|-$/g,"");class TableOfContent{constructor(){this.source="",this.target="",this.options={headings:["h2","h3","h4","h5","h6"],title:"Table of contents",titleTag:"h2",listType:"ol"}}setSource(e){e&&"string"==typeof e&&(this.source=document.getElementById(e))}setTarget(e){e&&"string"==typeof e&&(this.target=document.getElementById(e))}setOptions(e){e&&(e.headings&&e.headings instanceof Array&&(this.options.headings=e.headings),e.title&&"string"==typeof e.title&&(this.options.title=e.title),e.titleTag&&"string"==typeof e.titleTag&&(this.options.titleTag=e.titleTag),e.listType&&"string"==typeof e.listType&&(this.options.listType=e.listType))}getHeadingList(){const e=[...this.source.querySelectorAll(this.options.headings)].filter(e=>!e.firstElementChild||"A"!==e.firstElementChild.tagName);var t=document.getElementById("comments__title");return t&&e.push(t),e}createTitleMarkup(){return"<"+this.options.titleTag+' id="toc-title">'+this.options.title+"</"+this.options.titleTag+">"}startListNode(){return"<"+this.options.listType+">"}endListNode(){return"</"+this.options.listType+">"}determineLevel(e){return this.options.headings.indexOf(e)}calculateLevelDiff(e,t){return e-t}addSlug(e){return e.id=e.id||slugify(e.innerText),e.id}createTocMarkup(){let e;var t,s=this.getHeadingList();let n=0,r="",i=void 0;for(r+='<nav class="toc" aria-labelledby="toc-title">',r+=this.createTitleMarkup(),r+=this.startListNode(),n;n<s.length;n++){if(t=this.determineLevel(s[n].localName),e=this.calculateLevelDiff(t,i),e<0)for(;e<0;)r+=this.endListNode(),e++;else if(0<e)for(;0<e;)r+=this.startListNode(),e--;0!==n&&(r+="</li>"),r+="<li>","comments__title"===s[n].id?r+='<a href="#'+this.addSlug(s[n])+'">'+toc_args.commentTitle+"</a>":r+='<a href="#'+this.addSlug(s[n])+'">'+s[n].innerText+"</a>",i=t}return r+="</li>",r+=this.endListNode(),r+="</nav>",r}printToc(){0<this.getHeadingList().length&&(this.target.innerHTML=this.createTocMarkup())}init(e,t,s){this.setSource(e),this.setTarget(t),this.setOptions(s),this.source&&this.target&&this.printToc()}}const minimalistTOC=new TableOfContent;minimalistTOC.init("page__content","table-of-content",{title:toc_args.tocTitle});
//# sourceMappingURL=app.min.js.map