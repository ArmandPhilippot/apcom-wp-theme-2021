"use strict";var backToTop=document.getElementById("back-to-top");function showBackToTopOnScroll(){window.scrollY<"300"?backToTop.style.display="none":(backToTop.style.display="block",backToTop.style.animation="fadeIn 1s")}function addPrismClassesToCodeBlock(){for(var e=document.getElementsByTagName("pre"),t=0;t<e.length;t++){var r=e[t].classList.length;e[t].tabIndex="0";for(var n=0;n<r;n++)e[t].classList[n].startsWith("language")&&(e[t].classList.contains("command-line")||e[t].classList.contains("language-diff")||e[t].classList.add("line-numbers"))}}function getLightThemeIcon(){var e=document.createElement("span");return e.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><path d="M70 50a20 20 0 01-20 20 20 20 0 01-20-20 20 20 0 0120-20 20 20 0 0120 20zm28.557 1.16c2.74.07 1.192 12.435-1.48 11.819l-16.03-3.7c-2.67-.616-1.676-8.604 1.064-8.535zM79.931 89.565c1.695 2.156-9.31 8.877-10.44 6.38l-6.776-14.991c-1.13-2.499 5.358-6.48 7.051-4.324zM38.26 99.068c-.603 2.675-12.753-1.73-11.521-4.18l7.39-14.698c1.231-2.45 8.353.156 7.75 2.83zM4.81 72.51C2.362 73.741-1.81 61.508.864 60.905l16.049-3.619c2.674-.603 5.046 6.602 2.597 7.834zm-.02-43.073C2.34 28.205 9.394 17.36 11.47 19.15l12.465 10.737c2.077 1.79-1.997 8.172-4.448 6.94zm33.425-26.59C37.612.171 50.497-1.118 50.43 1.623l-.408 16.446c-.068 2.74-7.585 3.5-8.189.825zm41.655 9.446c1.686-2.163 10.761 7.085 8.598 8.77L75.49 31.172c-2.164 1.685-7.415-3.739-5.73-5.902zm18.686 38.419c2.74-.068 1.201 12.848-1.47 12.231l-16.029-3.7c-2.671-.616-1.687-8.056 1.053-8.124z"/></svg>',e.classList.add("tools__icon","tools__icon--light"),e.setAttribute("aria-hidden","true"),e}function getDarkThemeIcon(){var e=document.createElement("span");return e.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><path d="M51.283 0A45.12 45.12 0 0173.95 39.135a45.12 45.12 0 01-45.12 45.12 45.12 45.12 0 01-25.09-7.618A50.133 50.133 0 0046.126 100 50.133 50.133 0 0096.26 49.867 50.133 50.133 0 0051.283 0z"/></svg>',e.classList.add("tools__icon","tools__icon--dark"),e.setAttribute("aria-hidden","true"),e}function getDarkThemeLabel(){var e=document.createElement("span"),t=color_scheme_vars.lightThemeText;return e.innerHTML=t,e.classList.add("tools__label--light","screen-reader-text"),e}function getLightThemeLabel(){var e=document.createElement("span"),t=color_scheme_vars.darkThemeText;return e.innerHTML=t,e.classList.add("tools__label--dark","screen-reader-text"),e}function prefersDarkScheme(){if(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches)return!0}function updateThemePreference(e){localStorage.setItem("apcom-color-scheme",e)}function defineThemePreference(){updateThemePreference(getThemePreference()?getThemePreference():prefersDarkScheme()?"dark":"light")}function switchColorScheme(){var e=document.getElementById("body");"light"===e.getAttribute("data-color-scheme")?updateThemePreference("dark"):"dark"===e.getAttribute("data-color-scheme")&&updateThemePreference("light"),updateColorScheme()}function createSwitchThemeButton(){var e=getThemePreference(),t=document.getElementById("tools"),r=t.firstChild,n=document.createElement("div"),i=document.createElement("button"),o="",a="";n.classList.add("tools__item","themes"),o="dark"===e?(a=getLightThemeLabel(),getLightThemeIcon()):(a=getDarkThemeLabel(),getDarkThemeIcon()),i.id="switch-theme",i.classList.add("tools__label","tools__btn"),i.type="button",i.appendChild(a),i.appendChild(o),n.appendChild(i),t.insertBefore(n,r)}function updateSwitchThemeButton(){var e=getThemePreference(),t=document.getElementById("switch-theme"),r="",n="";t.innerHTML="",r="dark"===e?(n=getLightThemeLabel(),getLightThemeIcon()):(n=getDarkThemeLabel(),getDarkThemeIcon()),t.appendChild(n),t.appendChild(r)}function initializeColorScheme(){defineThemePreference(),createSwitchThemeButton(),updateColorScheme()}function syncColorSchemeBetweenTabs(){window.addEventListener("storage",function(e){"apcom-color-scheme"===e.key&&(updateColorScheme(),updateSwitchThemeButton())})}backToTop.style.display="none",window.addEventListener("scroll",function(){return showBackToTopOnScroll()}),document.addEventListener("DOMContentLoaded",function(){return addPrismClassesToCodeBlock()}),initializeColorScheme(),syncColorSchemeBetweenTabs(),document.getElementById("switch-theme").addEventListener("click",function(){switchColorScheme(),updateSwitchThemeButton()});var isMoreThanTwoYears=function(e,t){return 730<(t<e?e-t:t-e)/864e5},insertBeforeContent=function(e){var t=document.getElementById("page__content"),r=t.firstChild;t.insertBefore(e,r)},isArticle=function(){var e=document.getElementById("body");return e.classList.contains("single-page")&&!e.classList.contains("cpt")&&!e.classList.contains("no-comments")},getWarning=function(){return date_warning.beAware+" "+date_warning.oldContent+" "+date_warning.noMoreValid+" "+date_warning.contentEvolved},getPublicationDate=function(){var e=document.getElementById("meta__publication-date");return e?new Date(e.dateTime).getTime():null},getUpdateDate=function(){var e=document.getElementById("meta__update-date");return e?new Date(e.dateTime).getTime():null},displayWarningIfNeeded=function(){var e,t,r;isArticle()&&(e=getPublicationDate(),r=getUpdateDate(),t=(new Date).getTime(),e&&isMoreThanTwoYears(e,t)&&(r&&!isMoreThanTwoYears(e,r)||((r=document.createElement("div")).classList.add("content-warning"),r.innerHTML=getWarning(),insertBeforeContent(r))))};function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}displayWarningIfNeeded();var APComScrollBar,readingProgress=function(){function t(e){_classCallCheck(this,t),this.container=e?document.getElementById(e):"",this.progressBarWrapper=document.createElement("div"),this.progressBar=document.createElement("div")}return _createClass(t,[{key:"setProgressBarClasses",value:function(e){var t=this;e?e.forEach(function(e){t.progressBar.classList.add(e)}):this.progressBar.classList.add("reading-progress__bar")}},{key:"setProgressBarWrapperClasses",value:function(e){var t=this;e?e.forEach(function(e){t.progressBarWrapper.classList.add(e)}):this.progressBarWrapper.classList.add("reading-progress")}},{key:"insertReadingProgressBar",value:function(e){this.progressBar.style.height="100%",this.progressBar.style.maxWidth="100%",this.progressBarWrapper.appendChild(this.progressBar),this.progressBarWrapper.style.position="sticky","bottom"===e?(this.container.appendChild(this.progressBarWrapper),this.progressBarWrapper.style.bottom="0"):this.container&&(e=this.container.firstChild,this.container.insertBefore(this.progressBarWrapper,e),this.progressBarWrapper.style.top="0")}},{key:"showProgressBar",value:function(e){this.progressBarWrapper.style.display=!0===e?"block":"none"}},{key:"getScrollPercent",value:function(e){var t="";if(t="body"===e?document.body:"string"==typeof e&&"container"!==e?document.getElementById(e):this.container){var r=window.innerHeight,n=window.scrollY,e=t.offsetHeight;return(n-t.offsetTop)/(e-r)*100}}},{key:"recordProgression",value:function(e){e=this.getScrollPercent(e);1<e&&e<=100?this.showProgressBar(!0):this.showProgressBar(!1),this.progressBar.style.width=e+"%"}},{key:"init",value:function(e,t,r,n){e=0<arguments.length&&void 0!==e?e:["reading-progress"],t=1<arguments.length&&void 0!==t?t:["reading-progress__bar"],r=2<arguments.length&&void 0!==r?r:"top",n=3<arguments.length&&void 0!==n?n:"container";""!==this.container&&(this.setProgressBarWrapperClasses(e),this.setProgressBarClasses(t),this.insertReadingProgressBar(r),this.recordProgression(n))}}]),t}(),bodyClasses=document.body.classList;bodyClasses.contains("single-page")&&!bodyClasses.contains("attachment")&&(APComScrollBar=new readingProgress("page__content"),document.addEventListener("scroll",function(){APComScrollBar.init()}));var viewportWidth,toolSearch=document.getElementById("tools__search"),searchForm=toolSearch.getElementsByClassName("search-form")[0];function getViewportWidth(){return window.innerWidth}function hideSearch(e){var t=document.getElementById("search__checkbox");toolSearch.contains(e)||null===e||(t.checked=!1)}function preventScrolling(){var e=document.body;e.offsetWidth;e.style.overflow="hidden"}function allowScrolling(){document.body.style.removeProperty("overflow")}function createVisibilityObserver(e,t){new IntersectionObserver(function(e){e.forEach(function(e){t(0<e.intersectionRatio)})},{}).observe(e)}function observeDisplayChange(e){viewportWidth=getViewportWidth(),createVisibilityObserver(e,function(e){(e&&viewportWidth<1280?preventScrolling:allowScrolling)()})}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}window.addEventListener("load",function(){observeDisplayChange(searchForm)},!1),window.addEventListener("resize",function(){viewportWidth=getViewportWidth(),observeDisplayChange(searchForm)}),document.addEventListener("click",function(e){hideSearch(e.target)}),document.addEventListener("focusout",function(e){hideSearch(e.relatedTarget)});var slugify=function(e){return e.toString().normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().trim().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"-").replace(/\-\-+/g,"-").replace(/^-|-$/g,"")},TableOfContent=function(){function e(){_classCallCheck(this,e),this.source="",this.target="",this.options={headings:["h2","h3","h4","h5","h6"],title:"Table of contents",titleTag:"h2",listType:"ol"}}return _createClass(e,[{key:"setSource",value:function(e){e&&"string"==typeof e&&(this.source=document.getElementById(e))}},{key:"setTarget",value:function(e){e&&"string"==typeof e&&(this.target=document.getElementById(e))}},{key:"setOptions",value:function(e){e&&(e.headings&&e.headings instanceof Array&&(this.options.headings=e.headings),e.title&&"string"==typeof e.title&&(this.options.title=e.title),e.titleTag&&"string"==typeof e.titleTag&&(this.options.titleTag=e.titleTag),e.listType&&"string"==typeof e.listType&&(this.options.listType=e.listType))}},{key:"getHeadingList",value:function(){var e=_toConsumableArray(this.source.querySelectorAll(this.options.headings)).filter(function(e){return!e.firstElementChild||"A"!==e.firstElementChild.tagName}),t=document.getElementById("comments__title");return t&&e.push(t),e}},{key:"createTitleMarkup",value:function(){return"<"+this.options.titleTag+' id="toc-title">'+this.options.title+"</"+this.options.titleTag+">"}},{key:"startListNode",value:function(){return"<"+this.options.listType+">"}},{key:"endListNode",value:function(){return"</"+this.options.listType+">"}},{key:"determineLevel",value:function(e){return this.options.headings.indexOf(e)}},{key:"calculateLevelDiff",value:function(e,t){return e-t}},{key:"addSlug",value:function(e){return e.id=e.id||slugify(e.innerText),e.id}},{key:"createTocMarkup",value:function(){var e,t,r=this.getHeadingList(),n=0,i="",o=void 0;for(i+='<nav class="toc" aria-labelledby="toc-title">',i+=this.createTitleMarkup(),i+=this.startListNode();n<r.length;n++){if(t=this.determineLevel(r[n].localName),(e=this.calculateLevelDiff(t,o))<0)for(;e<0;)i+=this.endListNode(),e++;else if(0<e)for(;0<e;)i+=this.startListNode(),e--;0!==n&&(i+="</li>"),i+="<li>","comments__title"===r[n].id?i+='<a href="#'+this.addSlug(r[n])+'">'+toc_args.commentTitle+"</a>":i+='<a href="#'+this.addSlug(r[n])+'">'+r[n].innerText+"</a>",o=t}return i+="</li>",i+=this.endListNode(),i+="</nav>"}},{key:"printToc",value:function(){0<this.getHeadingList().length&&(this.target.innerHTML=this.createTocMarkup())}},{key:"init",value:function(e,t,r){this.setSource(e),this.setTarget(t),this.setOptions(r),this.source&&this.target&&this.printToc()}}]),e}(),Minimalist_TOC=new TableOfContent;Minimalist_TOC.init("page__content","table-of-content",{title:toc_args.tocTitle});
//# sourceMappingURL=app.min.js.map