"use strict";var backToTop=document.getElementById("back-to-top");function showBackToTopOnScroll(){window.scrollY<"300"?backToTop.style.display="none":(backToTop.style.display="block",backToTop.style.animation="fadeIn 1s")}function addPrismClassesToCodeBlock(){for(var e=document.getElementsByTagName("pre"),t=0;t<e.length;t++){var n=e[t].classList.length;e[t].tabIndex="0";for(var r=0;r<n;r++)e[t].classList[r].startsWith("language")&&(e[t].classList.contains("command-line")||e[t].classList.contains("language-diff")||e[t].classList.add("line-numbers"))}}function getLightThemeIcon(){var e=document.createElement("span");return e.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><path d="M70 50a20 20 0 01-20 20 20 20 0 01-20-20 20 20 0 0120-20 20 20 0 0120 20zm28.557 1.16c2.74.07 1.192 12.435-1.48 11.819l-16.03-3.7c-2.67-.616-1.676-8.604 1.064-8.535zM79.931 89.565c1.695 2.156-9.31 8.877-10.44 6.38l-6.776-14.991c-1.13-2.499 5.358-6.48 7.051-4.324zM38.26 99.068c-.603 2.675-12.753-1.73-11.521-4.18l7.39-14.698c1.231-2.45 8.353.156 7.75 2.83zM4.81 72.51C2.362 73.741-1.81 61.508.864 60.905l16.049-3.619c2.674-.603 5.046 6.602 2.597 7.834zm-.02-43.073C2.34 28.205 9.394 17.36 11.47 19.15l12.465 10.737c2.077 1.79-1.997 8.172-4.448 6.94zm33.425-26.59C37.612.171 50.497-1.118 50.43 1.623l-.408 16.446c-.068 2.74-7.585 3.5-8.189.825zm41.655 9.446c1.686-2.163 10.761 7.085 8.598 8.77L75.49 31.172c-2.164 1.685-7.415-3.739-5.73-5.902zm18.686 38.419c2.74-.068 1.201 12.848-1.47 12.231l-16.029-3.7c-2.671-.616-1.687-8.056 1.053-8.124z"/></svg>',e.classList.add("tools__icon","tools__icon--light"),e.setAttribute("aria-hidden","true"),e}function getDarkThemeIcon(){var e=document.createElement("span");return e.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><path d="M51.283 0A45.12 45.12 0 0173.95 39.135a45.12 45.12 0 01-45.12 45.12 45.12 45.12 0 01-25.09-7.618A50.133 50.133 0 0046.126 100 50.133 50.133 0 0096.26 49.867 50.133 50.133 0 0051.283 0z"/></svg>',e.classList.add("tools__icon","tools__icon--dark"),e.setAttribute("aria-hidden","true"),e}function getDarkThemeLabel(){var e=document.createElement("span"),t=color_scheme_vars.lightThemeText;return e.innerHTML=t,e.classList.add("tools__label--light","screen-reader-text"),e}function getLightThemeLabel(){var e=document.createElement("span"),t=color_scheme_vars.darkThemeText;return e.innerHTML=t,e.classList.add("tools__label--dark","screen-reader-text"),e}function prefersDarkScheme(){if(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches)return!0}function updateThemePreference(e){localStorage.setItem("apcom-color-scheme",e)}function defineThemePreference(){updateThemePreference(getThemePreference()?getThemePreference():prefersDarkScheme()?"dark":"light")}function switchColorScheme(){var e=document.getElementById("body");"light"===e.getAttribute("data-color-scheme")?updateThemePreference("dark"):"dark"===e.getAttribute("data-color-scheme")&&updateThemePreference("light"),updateColorScheme()}function createSwitchThemeButton(){var e=getThemePreference(),t=document.getElementById("tools"),n=t.firstChild,r=document.createElement("div"),i=document.createElement("button"),o="",s="";r.classList.add("tools__item","themes"),o="dark"===e?(s=getLightThemeLabel(),getLightThemeIcon()):(s=getDarkThemeLabel(),getDarkThemeIcon()),i.id="switch-theme",i.classList.add("tools__label","tools__btn"),i.type="button",i.appendChild(s),i.appendChild(o),r.appendChild(i),t.insertBefore(r,n)}function updateSwitchThemeButton(){var e=getThemePreference(),t=document.getElementById("switch-theme"),n="",r="";t.innerHTML="",n="dark"===e?(r=getLightThemeLabel(),getLightThemeIcon()):(r=getDarkThemeLabel(),getDarkThemeIcon()),t.appendChild(r),t.appendChild(n)}function initializeColorScheme(){defineThemePreference(),createSwitchThemeButton(),updateColorScheme()}function syncColorSchemeBetweenTabs(){window.addEventListener("storage",function(e){"apcom-color-scheme"===e.key&&(updateColorScheme(),updateSwitchThemeButton())})}backToTop.style.display="none",window.addEventListener("scroll",function(){return showBackToTopOnScroll()}),document.addEventListener("DOMContentLoaded",function(){return addPrismClassesToCodeBlock()}),initializeColorScheme(),syncColorSchemeBetweenTabs(),document.getElementById("switch-theme").addEventListener("click",function(){switchColorScheme(),updateSwitchThemeButton()});var isMoreThanOneYear=function(e,t){return 365<(t<e?e-t:t-e)/864e5},insertBeforeContent=function(e){var t=document.getElementById("page__content"),n=t.firstChild;t.insertBefore(e,n)},handleDateWarnings=function(){var e,t,n=document.getElementById("body");n.classList.contains("single-page")&&!n.classList.contains("cpt")&&(t=document.getElementById("meta__publication-date"),e=document.getElementById("meta__update-date"),n=t?new Date(t.dateTime).getTime():null,t=e?new Date(e.dateTime).getTime():null,e=(new Date).getTime(),isMoreThanOneYear(n,e)&&isMoreThanOneYear(n,t)&&((t=document.createElement("div")).classList.add("content-warning"),t.innerHTML=date_warning.beAware+" "+date_warning.oldContent+" "+date_warning.noMoreValid+" "+date_warning.contentEvolved,insertBeforeContent(t)))};function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}handleDateWarnings();var APComScrollBar,readingProgress=function(){function t(e){_classCallCheck(this,t),this.container=e?document.getElementById(e):"",this.progressBarWrapper=document.createElement("div"),this.progressBar=document.createElement("div")}return _createClass(t,[{key:"setProgressBarClasses",value:function(e){var t=this;e?e.forEach(function(e){t.progressBar.classList.add(e)}):this.progressBar.classList.add("reading-progress__bar")}},{key:"setProgressBarWrapperClasses",value:function(e){var t=this;e?e.forEach(function(e){t.progressBarWrapper.classList.add(e)}):this.progressBarWrapper.classList.add("reading-progress")}},{key:"insertReadingProgressBar",value:function(e){this.progressBar.style.height="100%",this.progressBar.style.maxWidth="100%",this.progressBarWrapper.appendChild(this.progressBar),this.progressBarWrapper.style.position="sticky","bottom"===e?(this.container.appendChild(this.progressBarWrapper),this.progressBarWrapper.style.bottom="0"):this.container&&(e=this.container.firstChild,this.container.insertBefore(this.progressBarWrapper,e),this.progressBarWrapper.style.top="0")}},{key:"showProgressBar",value:function(e){this.progressBarWrapper.style.display=!0===e?"block":"none"}},{key:"getScrollPercent",value:function(e){var t="";if(t="body"===e?document.body:"string"==typeof e&&"container"!==e?document.getElementById(e):this.container){var n=window.innerHeight,r=window.scrollY,e=t.offsetHeight;return(r-t.offsetTop)/(e-n)*100}}},{key:"recordProgression",value:function(e){e=this.getScrollPercent(e);1<e&&e<=100?this.showProgressBar(!0):this.showProgressBar(!1),this.progressBar.style.width=e+"%"}},{key:"init",value:function(e,t,n,r){e=0<arguments.length&&void 0!==e?e:["reading-progress"],t=1<arguments.length&&void 0!==t?t:["reading-progress__bar"],n=2<arguments.length&&void 0!==n?n:"top",r=3<arguments.length&&void 0!==r?r:"container";""!==this.container&&(this.setProgressBarWrapperClasses(e),this.setProgressBarClasses(t),this.insertReadingProgressBar(n),this.recordProgression(r))}}]),t}(),bodyClasses=document.body.classList;bodyClasses.contains("single-page")&&!bodyClasses.contains("attachment")&&(APComScrollBar=new readingProgress("page__content"),document.addEventListener("scroll",function(){APComScrollBar.init()}));var viewportWidth,toolSearch=document.getElementById("tools__search"),searchForm=toolSearch.getElementsByClassName("search-form")[0];function getViewportWidth(){return window.innerWidth}function hideSearch(e){var t=document.getElementById("search__checkbox");toolSearch.contains(e)||null===e||(t.checked=!1)}function preventScrolling(){var e=document.body;e.offsetWidth;e.style.overflow="hidden"}function allowScrolling(){document.body.style.removeProperty("overflow")}function createVisibilityObserver(e,t){new IntersectionObserver(function(e){e.forEach(function(e){t(0<e.intersectionRatio)})},{}).observe(e)}function observeDisplayChange(e){viewportWidth=getViewportWidth(),createVisibilityObserver(e,function(e){(e&&viewportWidth<1280?preventScrolling:allowScrolling)()})}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}window.addEventListener("load",function(){observeDisplayChange(searchForm)},!1),window.addEventListener("resize",function(){viewportWidth=getViewportWidth(),observeDisplayChange(searchForm)}),document.addEventListener("click",function(e){hideSearch(e.target)}),document.addEventListener("focusout",function(e){hideSearch(e.relatedTarget)});var slugify=function(e){return e.toString().normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().trim().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"-").replace(/\-\-+/g,"-").replace(/^-|-$/g,"")},TableOfContent=function(){function e(){_classCallCheck(this,e),this.source="",this.target="",this.options={headings:["h2","h3","h4","h5","h6"],title:"Table of contents",titleTag:"h2",listType:"ol"}}return _createClass(e,[{key:"setSource",value:function(e){e&&"string"==typeof e&&(this.source=document.getElementById(e))}},{key:"setTarget",value:function(e){e&&"string"==typeof e&&(this.target=document.getElementById(e))}},{key:"setOptions",value:function(e){e&&(e.headings&&e.headings instanceof Array&&(this.options.headings=e.headings),e.title&&"string"==typeof e.title&&(this.options.title=e.title),e.titleTag&&"string"==typeof e.titleTag&&(this.options.titleTag=e.titleTag),e.listType&&"string"==typeof e.listType&&(this.options.listType=e.listType))}},{key:"getHeadingList",value:function(){return this.source.querySelectorAll(this.options.headings)}},{key:"createTitleMarkup",value:function(){return"<"+this.options.titleTag+' id="toc-title">'+this.options.title+"</"+this.options.titleTag+">"}},{key:"startListNode",value:function(){return"<"+this.options.listType+">"}},{key:"endListNode",value:function(){return"</"+this.options.listType+">"}},{key:"determineLevel",value:function(e){return this.options.headings.indexOf(e)}},{key:"calculateLevelDiff",value:function(e,t){return e-t}},{key:"addSlug",value:function(e){return e.id=e.id||slugify(e.innerText),e.id}},{key:"createTocMarkup",value:function(){var e,t,n=this.getHeadingList(),r=0,i="",o=void 0;for(i+='<nav class="toc" aria-labelledby="toc-title">',i+=this.createTitleMarkup(),i+=this.startListNode();r<n.length;r++){if(t=this.determineLevel(n[r].localName),(e=this.calculateLevelDiff(t,o))<0)for(;e<0;)i+=this.endListNode(),e++;else if(0<e)for(;0<e;)i+=this.startListNode(),e--;0!==r&&(i+="</li>"),i+="<li>",i+='<a href="#'+this.addSlug(n[r])+'">'+n[r].innerText+"</a>",o=t}return i+="</li>",i+=this.endListNode(),i+="</nav>"}},{key:"printToc",value:function(){0<this.getHeadingList().length&&(this.target.innerHTML=this.createTocMarkup())}},{key:"init",value:function(e,t,n){this.setSource(e),this.setTarget(t),this.setOptions(n),this.source&&this.target&&this.printToc()}}]),e}(),Minimalist_TOC=new TableOfContent;Minimalist_TOC.init("page__content","table-of-content");
//# sourceMappingURL=app.min.js.map