"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,i){return e&&_defineProperties(t.prototype,e),i&&_defineProperties(t,i),t}var slugify=function(t){return t.toString().normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().trim().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"-").replace(/\-\-+/g,"-").replace(/^-|-$/g,"")},TableOfContent=function(){function t(){_classCallCheck(this,t),this.source="",this.target="",this.options={headings:["h2","h3","h4","h5","h6"],title:"Table of contents",titleTag:"h2",listType:"ol"}}return _createClass(t,[{key:"setSource",value:function(t){t&&"string"==typeof t&&(this.source=document.getElementById(t))}},{key:"setTarget",value:function(t){t&&"string"==typeof t&&(this.target=document.getElementById(t))}},{key:"setOptions",value:function(t){t&&(t.headings&&t.headings instanceof Array&&(this.options.headings=t.headings),t.title&&"string"==typeof t.title&&(this.options.title=t.title),t.titleTag&&"string"==typeof t.titleTag&&(this.options.titleTag=t.titleTag),t.listType&&"string"==typeof t.listType&&(this.options.listType=t.listType))}},{key:"getHeadingList",value:function(){return this.source.querySelectorAll(this.options.headings)}},{key:"createTitleMarkup",value:function(){return"<"+this.options.titleTag+">"+this.options.title+"</"+this.options.titleTag+">"}},{key:"startListNode",value:function(){return"<"+this.options.listType+">"}},{key:"endListNode",value:function(){return"</"+this.options.listType+">"}},{key:"determineLevel",value:function(t){return this.options.headings.indexOf(t)}},{key:"calculateLevelDiff",value:function(t,e){return t-e}},{key:"addSlug",value:function(t){return t.id=t.id||slugify(t.innerText),t.id}},{key:"createTocMarkup",value:function(){var t,e,i=this.getHeadingList(),n=0,s="",o=void 0;for(s+='<nav class="toc">',s+=this.createTitleMarkup(),s+=this.startListNode();n<i.length;n++){if(e=this.determineLevel(i[n].localName),(t=this.calculateLevelDiff(e,o))<0)for(;t<0;)s+=this.endListNode(),t++;else if(0<t)for(;0<t;)s+=this.startListNode(),t--;0!==n&&(s+="</li>"),s+="<li>",s+='<a href="#'+this.addSlug(i[n])+'">'+i[n].innerText+"</a>",o=e}return s+="</li>",s+=this.endListNode(),s+="</nav>"}},{key:"printToc",value:function(){0<this.getHeadingList().length&&(this.target.innerHTML=this.createTocMarkup())}},{key:"init",value:function(t,e,i){this.setSource(t),this.setTarget(e),this.setOptions(i),this.source&&this.target&&this.printToc()}}]),t}(),Minimalist_TOC=new TableOfContent;Minimalist_TOC.init("page__content","table-of-content");
//# sourceMappingURL=scripts.min.js.map