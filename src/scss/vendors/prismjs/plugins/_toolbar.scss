@use "../../../abstracts/functions" as fun;
@use "../../../abstracts/mixins" as mix;
@use "../../../components/button";

.code-toolbar {
	position: relative;
	margin-top: fun.px-to-rem(70); // toolbar height
	width: 100%;

	> .toolbar {
		display: flex;
		flex-flow: row wrap;
		align-items: center;
		justify-content: flex-end;
		gap: fun.get-var(spacing-sm);
		background: fun.get-var(color-bg-tertiary);
		border: solid fun.get-var(color-border-light);
		border-width: fun.px-to-rem(1) fun.px-to-rem(1) 0 fun.px-to-rem(1);
		border-top-left-radius: fun.px-to-rem(3);
		border-top-right-radius: fun.px-to-rem(3);
		box-shadow: 0 fun.px-to-rem(2) fun.px-to-rem(3) fun.px-to-rem(-2)
			fun.get-var(color-shadow-darker);
		width: 100%;
		height: fun.px-to-rem(70);
		margin: 0;
		position: absolute;
		top: fun.px-to-rem(-70);
		left: 0;
	}

	.toolbar-item {
		display: flex;
		align-items: center;
		color: fun.get-var(color-fg-secondary);

		&:first-child {
			font-size: fun.get-var(font-size-md);
			font-weight: 600;
			margin-right: auto;
			margin-left: fun.get-var(spacing-sm);
		}

		&:last-child {
			margin-right: fun.get-var(spacing-sm);
		}
	}

	.copy-to-clipboard-button {
		@extend .btn;
		@extend .btn--round;
		color: fun.get-var(color-fg-inverted);
		font-size: fun.get-var(font-size-sm);
		height: fun.px-to-rem(40);
		padding: 0 fun.get-var(spacing-sm);
	}

	.prism__btn {
		width: fun.px-to-rem(40);
		height: fun.px-to-rem(40);
	}

	pre {
		border-top-left-radius: 0;
		border-top-right-radius: 0;
		width: auto;
	}

	@include mix.media("screen") {
		@include mix.dimensions("lg") {
			@include mix.pointer("fine") {
				margin-top: fun.px-to-rem(50); // toolbar height

				> .toolbar {
					height: fun.px-to-rem(50);
					top: fun.px-to-rem(-50);
				}

				.toolbar-item {
					&:first-child {
						font-size: fun.get-var(font-size-sm);
					}
				}

				.copy-to-clipboard-button {
					height: fun.px-to-rem(32);
				}

				.prism__btn {
					width: fun.px-to-rem(32);
					height: fun.px-to-rem(32);
				}
			}
		}
	}
}
