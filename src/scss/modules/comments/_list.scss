.comments__list {
	@include orderedListReset;

	margin-bottom: cssVar(spacing-md);

	.comments__form {
		background: cssVar(color-bg);
		border: pxToRem(1) solid cssVar(color-border-lighter);
		margin-bottom: cssVar(spacing-md);
		padding: cssVar(spacing-md);

		@include media("screen") {
			@include dimensions("sm") {
				padding: cssVar(spacing-md) cssVar(spacing-xl);
			}
		}
	}

	li {
		margin: 0 0 cssVar(spacing-md);
	}
}

.comment {
	margin: 0 0 cssVar(spacing-md);

	&:last-child {
		margin-bottom: cssVar(spacing-md);
	}

	&__inner {
		background: cssVar(color-bg);
		border: pxToRem(1) solid cssVar(color-border-lighter);
		box-shadow: pxToRem(3) pxToRem(3) 0 0 cssVar(color-shadow-lighter),
			pxToRem(4) pxToRem(4) pxToRem(3) pxToRem(-2) cssVar(color-shadow);
		padding: cssVar(spacing-md);
		position: relative;

		@include media("screen") {
			@include dimensions("sm") {
				display: grid;
				grid-template-columns: minmax(#{pxToRem(150)}, 1fr) minmax(
						0,
						85ch
					);
				column-gap: cssVar(spacing-md);
				padding: cssVar(spacing-sm) cssVar(spacing-md);
			}

			@include dimensions("lg") {
				column-gap: cssVar(spacing-xl);
			}
		}
	}

	&__header {
		@include media("screen") {
			@include dimensions("sm") {
				display: contents;
			}
		}
	}

	&__author {
		display: flex;
		flex-flow: column wrap;
		align-items: center;
		row-gap: cssVar(spacing-sm);

		@include media("screen") {
			@include dimensions("sm") {
				grid-row: 1 / 4;
				text-align: center;
				padding: cssVar(spacing-md) 0;
			}
		}
	}

	&__date {
		color: cssVar(color-fg-secondary);
		font-size: cssVar(font-size-sm);
		margin: cssVar(spacing-md) 0;
		display: grid;
		grid-template-columns: repeat(2, max-content);
		column-gap: cssVar(spacing-2xs);
		justify-content: center;

		@include media("screen") {
			@include dimensions("xs") {
				column-gap: cssVar(spacing-2xs);
				margin: cssVar(spacing-md) auto;
				width: max-content;
			}

			@include dimensions("sm") {
				margin: cssVar(spacing-md) 0;
			}
		}

		dt {
			grid-column: 1;
		}

		dd {
			grid-column: 2;
		}
	}

	&__body {
		overflow-wrap: break-word;

		@include media("screen") {
			@include dimensions("sm") {
				grid-column: 2;
				grid-row: 2;
			}
		}
	}

	&__footer {
		display: flex;
		justify-content: flex-end;
		align-items: center;
		padding: cssVar(spacing-sm) 0;

		@include media("screen") {
			@include dimensions("sm") {
				grid-column: 2;
				grid-row: 3;
			}
		}
	}

	.author {
		&__avatar {
			background: cssVar(color-bg);
			max-width: clampThis(#{pxToRem(85)});

			.avatar {
				border-radius: pxToRem(3);
				box-shadow: 0 0 0 pxToRem(1) cssVar(color-shadow-dark),
					pxToRem(3) pxToRem(3) 0 0 cssVar(color-shadow-dark);
			}
		}

		&__name {
			font-weight: 700;
		}

		&__post {
			background: cssVar(color-primary);
			box-shadow: 0 0 0 pxToRem(1) cssVar(color-shadow-dark),
				pxToRem(1) pxToRem(1) 0 pxToRem(1) cssVar(color-shadow-dark);
			color: cssVar(color-fg-inverted);
			font-size: cssVar(font-size-sm);
			font-variant: small-caps;
			font-weight: 600;
			padding: pxToRem(3) cssVar(spacing-3xs);
			width: max-content;
		}
	}

	&__edit,
	&__reply {
		a {
			@include buttonBase;
			@include buttonStyle2;
		}
	}

	&__edit {
		margin-right: cssVar(spacing-sm);
	}

	&__awaiting-moderation {
		flex: 1 1 100%;
		color: cssVar(color-fg-tertiary);
		font-size: cssVar(font-size-sm);
		font-style: italic;
	}

	.children {
		padding-top: cssVar(spacing-sm);
		padding-left: cssVar(spacing-md);

		@include media("screen") {
			@include dimensions("lg") {
				padding-left: cssVar(spacing-2xl);
			}
		}

		.comment {
			margin: 0 0 cssVar(spacing-sm);
		}
	}
}
