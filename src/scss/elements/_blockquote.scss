@use "../abstracts/functions" as f;
@use "../abstracts/variables" as v;

blockquote {
	border: solid f.cssvar(color-border);
	border-width: f.pxtorem(1) f.pxtorem(1) f.pxtorem(1) f.pxtorem(5);
	box-shadow: f.pxtorem(1) f.pxtorem(1) f.pxtorem(3) f.pxtorem(1)
		f.cssvar(color-shadow-light);
	font-style: italic;
	margin: 0 0 f.cssvar(spacing-md);
	padding: f.cssvar(spacing-sm) f.cssvar(spacing-md);
	position: relative;

	&::before {
		content: "";
		background-color: f.cssvar(color-bg);
		/* stylelint-disable -- Stylelint does not recognize the SVG. */
		background-image: url(f.encodesvg(
			'<svg xmlns="http://www.w3.org/2000/svg" width="28.215" height="24.303" version="1.0"><defs><path id="a" d="M-174.038-59.122h63.848v81.44h-63.848z"/></defs><g style="line-height:1.25;white-space:pre;shape-inside:url(#a)"><path d="M26.218 0C18.81 5.077 15.315 10.154 15.315 16.064c0 4.993 2.746 8.24 6.824 8.24 3.163 0 5.41-2.165 5.41-5.078 0-2.913-2.247-4.91-5.493-4.91l-1.498.083c-.166.083-.25.083-.333.083-.333 0-.5-.25-.5-.749 0-3.579 2.664-7.158 8.49-11.403zM10.903 0C3.496 5.077 0 10.154 0 16.064c0 4.993 2.747 8.24 6.825 8.24 3.163 0 5.41-2.165 5.41-5.078 0-2.913-2.247-4.91-5.493-4.91l-1.498.083c-.167.083-.25.083-.333.083-.333 0-.5-.25-.5-.749 0-3.579 3.413-8.24 8.49-11.403z" fill="#{v.$color_chathams-blue-dark}"/></g></svg>'
		));
		/* stylelint-enable */
		background-position: center;
		background-repeat: no-repeat;
		background-size: calc(100% - #{f.cssvar(spacing-sm)});
		width: f.pxtorem(10);
		height: f.pxtorem(10);
		padding: f.cssvar(spacing-sm);
		position: absolute;
		top: calc(50% - (#{f.pxtorem(10)} + (#{f.cssvar(spacing-xs)} / 2)));
		left: calc((#{f.pxtorem(10)} + (#{f.cssvar(spacing-sm)} / 2)) * -1);
	}

	* {
		position: relative;
	}

	p:last-child {
		margin: 0;
	}
}

[data-color-scheme="dark"] {
	blockquote {
		&::before {
			/* stylelint-disable -- Stylelint does not recognize the SVG. */
			background-image: url(f.encodesvg(
				'<svg xmlns="http://www.w3.org/2000/svg" width="28.215" height="24.303" version="1.0"><defs><path id="a" d="M-174.038-59.122h63.848v81.44h-63.848z"/></defs><g style="line-height:1.25;white-space:pre;shape-inside:url(#a)"><path d="M26.218 0C18.81 5.077 15.315 10.154 15.315 16.064c0 4.993 2.746 8.24 6.824 8.24 3.163 0 5.41-2.165 5.41-5.078 0-2.913-2.247-4.91-5.493-4.91l-1.498.083c-.166.083-.25.083-.333.083-.333 0-.5-.25-.5-.749 0-3.579 2.664-7.158 8.49-11.403zM10.903 0C3.496 5.077 0 10.154 0 16.064c0 4.993 2.747 8.24 6.825 8.24 3.163 0 5.41-2.165 5.41-5.078 0-2.913-2.247-4.91-5.493-4.91l-1.498.083c-.167.083-.25.083-.333.083-.333 0-.5-.25-.5-.749 0-3.579 3.413-8.24 8.49-11.403z" fill="#{v.$color_spindle-dark}"/></g></svg>'
			));
			/* stylelint-enable */
		}
	}
}

cite {
	color: f.cssvar(color-fg-tertiary);
	font-style: normal;
	font-size: f.cssvar(font-size-sm);

	&::before {
		content: "\2014 \2009";
		margin-right: f.cssvar(spacing-2xs);
	}
}
